---
// Hero bileşeni için gerekli importlar
import { t } from "i18next";
import HeroParticles from "./HeroParticles.astro";
---

<section class="relative bg-blackest py-24 md:py-32 overflow-hidden">
  <!-- Arka plan parçacıkları -->
  <HeroParticles />

  <!-- Arka plan efekti -->
  <div class="absolute inset-0 z-0 opacity-30">
    <div
      class="absolute top-0 left-0 w-full h-full bg-gradient-to-br from-primary-rgba-2 to-tertiary-darker"
    >
    </div>
    <div
      class="absolute top-0 left-0 w-1/2 h-1/2 bg-gradient-radial from-primary-rgba-2 to-transparent"
    >
    </div>
  </div>

  <!-- İçerik -->
  <div class="container mx-auto px-4 relative z-10">
    <div class="flex flex-col items-center text-center max-w-4xl mx-auto">
      <h1
        class="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 hero-title"
        data-aos="fade-down"
        data-aos-duration="1000"
      >
        <span class="text-typed"></span>
      </h1>

      <div class="mb-8" data-aos="fade-up" data-aos-delay="200">
        <h2
          class="text-xl md:text-2xl lg:text-3xl text-primary font-semibold mb-2"
        >
          {t("home.hero.title")}
        </h2>
        <p class="text-lg text-body">
          {t("home.hero.description")}
        </p>
      </div>

      <div
        class="flex flex-col sm:flex-row gap-4 mb-12"
        data-aos="fade-up"
        data-aos-delay="400"
      >
        <a
          href="/register"
          class="bg-primary hover:bg-primary-alt text-white px-8 py-3 rounded-lg font-medium transition-colors duration-300 cta-button"
        >
          {t("home.hero.cta")}
        </a>
        <a
          href="/features"
          class="bg-white-off hover:bg-white/10 text-white px-8 py-3 rounded-lg font-medium transition-colors duration-300"
        >
          {t("common.menu.features")}
        </a>
      </div>

      <div
        class="text-sm text-body mb-16"
        data-aos="fade-up"
        data-aos-delay="600"
      >
        <p>
          Araç tuning ekosistemindeki 10+ yıllık tecrübemizle geliştirilen bu
          profesyonel portal ile tüm iş süreçlerinizi kolayca yönetin.
        </p>
      </div>
    </div>

    <!-- Ekran görüntüleri -->
    <div
      class="relative mx-auto max-w-6xl"
      data-aos="zoom-in"
      data-aos-delay="800"
    >
      <div
        class="bg-gradient-to-r from-primary/40 to-tertiary-darker/40 rounded-lg p-1"
      >
        <div class="swiper screenshot-slider">
          <div class="swiper-wrapper">
            <div class="swiper-slide rounded-md overflow-hidden">
              <img
                src="/screenshots/dashboard-light.png"
                alt="ECU Tuning Portal Dashboard"
                class="w-full h-auto"
              />
            </div>
            <div class="swiper-slide rounded-md overflow-hidden">
              <img
                src="/screenshots/files-dark.png"
                alt="ECU Tuning Portal Files"
                class="w-full h-auto"
              />
            </div>
            <div class="swiper-slide rounded-md overflow-hidden">
              <img
                src="/screenshots/settings-light.png"
                alt="ECU Tuning Portal Settings"
                class="w-full h-auto"
              />
            </div>
          </div>
          <div class="swiper-pagination"></div>
        </div>
      </div>
    </div>

    <!-- Ekstra bilgi -->
    <div class="text-center mt-16" data-aos="fade-up" data-aos-delay="1000">
      <div class="inline-block px-4 py-2 border border-white-off rounded-full">
        <p class="text-sm text-body">
          <span
            class="text-primary font-semibold counter-element"
            data-count="1500">0</span
          >+ mutlu müşteri tarafından tercih edilmiştir
        </p>
      </div>
    </div>
  </div>
</section>

<!-- AOS, Typed.js, Swiper ve CountUp.js için gerekli CSS ve JS -->
<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css"
/>

<script>
  // @ts-nocheck - Tip hatalarını görmezden geliyoruz

  // AOS Animasyon kütüphanesini başlat
  import AOS from "aos";

  // Typed.js ve CountUp.js
  import Typed from "typed.js";
  import { CountUp } from "countup.js";

  // Swiper
  import Swiper from "swiper";
  import { Pagination, Autoplay } from "swiper/modules";

  document.addEventListener("DOMContentLoaded", () => {
    // AOS Animasyonlarını Başlat
    AOS.init({
      duration: 800,
      once: true,
    });

    // Typed.js ile yazı animasyonu
    const options = {
      strings: [
        "Profesyonel Chip Tuning Çözümleri",
        "Gelişmiş ECU Dosya Hizmetleri",
        "Özel Yazılım Geliştirme",
        "Uzman Teknik Destek",
      ],
      typeSpeed: 50,
      backSpeed: 30,
      backDelay: 2000,
      startDelay: 500,
      loop: true,
    };

    const textElement = document.querySelector(".text-typed");
    if (textElement) {
      new Typed(textElement, options);
    }

    // Swiper
    Swiper.use([Pagination, Autoplay]);
    new Swiper(".screenshot-slider", {
      slidesPerView: 1,
      spaceBetween: 20,
      loop: true,
      autoplay: {
        delay: 5000,
        disableOnInteraction: false,
      },
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
      breakpoints: {
        640: {
          slidesPerView: 1,
        },
        768: {
          slidesPerView: 2,
        },
      },
    });

    // CountUp animasyonu
    const countElement = document.querySelector(".counter-element");
    if (countElement) {
      const targetCount = parseInt(
        countElement.getAttribute("data-count") || "0",
        10
      );
      const countUp = new CountUp(countElement, targetCount, {
        duration: 3,
        separator: ",",
      });

      if (!countUp.error) {
        countUp.start();
      }
    }

    // CTA düğmesi animasyonu
    const ctaButton = document.querySelector(".cta-button");
    if (ctaButton) {
      ctaButton.addEventListener("mouseover", () => {
        ctaButton.classList.add("animate-pulse");
      });
      ctaButton.addEventListener("mouseout", () => {
        ctaButton.classList.remove("animate-pulse");
      });
    }
  });
</script>
